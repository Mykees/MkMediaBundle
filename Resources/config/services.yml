parameters:
    mk.media.manager.class: Mykees\MediaBundle\Manager\MediaManager
services:
#    mykees_media.example:
#        class: Mykees\MediaBundle\Example
#        arguments: [@service_id, "plain_value", %parameter%]

    mk.media.event.upload_subscriber:
        class: Mykees\MediaBundle\EventListener\UploadSubscriber
        arguments: ["@doctrine.orm.entity_manager","@service_container"]
        tags:
            - { name: kernel.event_subscriber }

    mk.media.manager:
        class: Mykees\MediaBundle\Manager\MediaManager
        arguments: ["@doctrine.orm.entity_manager","@service_container"]

    mk.uploader.extension:
        class: Mykees\MediaBundle\Twig\Extension\UploaderExtension
        arguments: ["@mk.media.manager","@service_container","@router"]
        tags:
            - { name: twig.extension, alias: mykees_uploader }

    mk.image.extension:
        class: Mykees\MediaBundle\Twig\Extension\ImageResizeExtension
        arguments: ["@service_container"]
        tags:
            - { name: twig.extension, alias: image_resize }

    mk.media.listener:
        class: Mykees\MediaBundle\EventListener\MediasListener
        arguments: ['@service_container']
        tags:
            - { name: doctrine.event_listener, event: preRemove, method: preRemove }
